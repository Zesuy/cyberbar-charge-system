<!DOCTYPE html>
<html>
<head>
    <title>用户控制面板</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>
<body>
    <div class="container mt-5">
        <div class="row">
            <div class="col-md-12">
                <h2 class="mb-4">用户控制面板</h2>
                <p>欢迎，{{ user_data.username }}！</p>

                <div id="user-data">
                    <p>当前时间：{{ user_data.time }}</p>
                    <p>上机时间：{{ user_data.last_login }}</p>
                    <p>费用：{{ user_data.fee }}元</p>
                    <p>每分钟价格：{{user_data.fee_per_minute}}元</p>
                </div>


            <button id="login-button">上机</button>
            <button id="logout-button">下机</button>

            <script>
                const loginButton = document.getElementById('login-button');
                loginButton.addEventListener('click', () => {
                    fetch('/api/login', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/x-www-form-urlencoded',
                        },
                        body: `username=your_username`, // 替换成实际用户名
                    })
                    .then(response => response.text())
                    .then(data => {
                        alert(data); // 显示上机结果
                    });
                });

                const logoutButton = document.getElementById('logout-button');
                logoutButton.addEventListener('click', () => {
                    fetch('/api/logout', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/x-www-form-urlencoded',
                        },
                        body: `username=your_username`, // 替换成实际用户 ID
                    })
                    .then(response => response.text())
                    .then(data => {
                        alert(data); // 显示下机结果
                    });
                });
            </script>

                <a href="/logout" class="btn btn-danger">退出登录</a>
            </div>
        </div>
    </div>
</body>
</html>
